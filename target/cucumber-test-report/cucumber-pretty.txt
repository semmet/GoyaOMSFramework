Feature: Goya OMS Smart Order

  Background:                                   [90m# src/test/resources/features/SmartOrder.feature:4[0m
    [32mGiven [0m[32mNot a validated user[0m                  [90m# LoginSteps.not_a_validated_user()[0m
    [32mWhen [0m[32mUser browse to website[0m                 [90m# LoginSteps.user_browse_to_website()[0m
    [32mThen [0m[32mLogin page should display[0m              [90m# LoginSteps.login_page_should_display()[0m
    [32mWhen [0m[32mUser enter username as "[0m[32m[1m013506[0m[32m"[0m        [90m# LoginSteps.user_enter_user_name_as(String)[0m
    [32mAnd [0m[32mUser enter password as "[0m[32m[1mPwd@013506[0m[32m"[0m     [90m# LoginSteps.user_enter_password_as(String)[0m
    [32mAnd [0m[32mUser click login button[0m                 [90m# LoginSteps.user_click_login_button()[0m
    [32mThen [0m[32mHome page should display[0m               [90m# LoginSteps.home_page_should_display()[0m
    [32mWhen [0m[32mUser clicks on Customers[0m               [90m# HomePageSteps.user_clicks_on_Customers()[0m
    [32mThen [0m[32mCustomers page should display[0m          [90m# CustomerPageSteps.Customer_page_should_display()[0m
    [32mWhen [0m[32mUser selects customer[0m                  [90m# CustomerPageSteps.user_selects_customer()[0m
    [32mAnd [0m[32mUser clicks Select button[0m               [90m# CustomerPageSteps.user_clicks_Select_button()[0m
    [32mAnd [0m[32mUser accepts Confirm Alert[0m              [90m# CustomerPageSteps.user_accepts_Confirm_Alert()[0m
    [32mThen [0m[32mUser should be direct back to Homepage[0m [90m# HomePageSteps.user_should_be_direct_back_to_Homepage()[0m
    [32mAnd [0m[32mCustomer info should display at top[0m     [90m# HomePageSteps.customer_info_should_display_at_top()[0m

  Scenario: 1. Confirmation correct customer info is displayed [90m# src/test/resources/features/SmartOrder.feature:21[0m
    [32mWhen [0m[32mUser clicks on Smart Order[0m                            [90m# HomePageSteps.user_clicks_on_Smart_Order()[0m
    [32mThen [0m[32mSmart Order page should display[0m                       [90m# SmartOrderSteps.smart_Order_page_should_display()[0m
    [32mAnd [0m[32mCorrect customer info should display in field box[0m      [90m# SmartOrderSteps.correct_customer_info_should_display_in_field_box()[0m

  Background:                                   [90m# src/test/resources/features/SmartOrder.feature:4[0m
    [32mGiven [0m[32mNot a validated user[0m                  [90m# LoginSteps.not_a_validated_user()[0m
    [32mWhen [0m[32mUser browse to website[0m                 [90m# LoginSteps.user_browse_to_website()[0m
    [32mThen [0m[32mLogin page should display[0m              [90m# LoginSteps.login_page_should_display()[0m
    [32mWhen [0m[32mUser enter username as "[0m[32m[1m013506[0m[32m"[0m        [90m# LoginSteps.user_enter_user_name_as(String)[0m
    [32mAnd [0m[32mUser enter password as "[0m[32m[1mPwd@013506[0m[32m"[0m     [90m# LoginSteps.user_enter_password_as(String)[0m
    [32mAnd [0m[32mUser click login button[0m                 [90m# LoginSteps.user_click_login_button()[0m
    [32mThen [0m[32mHome page should display[0m               [90m# LoginSteps.home_page_should_display()[0m
    [32mWhen [0m[32mUser clicks on Customers[0m               [90m# HomePageSteps.user_clicks_on_Customers()[0m
    [32mThen [0m[32mCustomers page should display[0m          [90m# CustomerPageSteps.Customer_page_should_display()[0m
    [32mWhen [0m[32mUser selects customer[0m                  [90m# CustomerPageSteps.user_selects_customer()[0m
    [32mAnd [0m[32mUser clicks Select button[0m               [90m# CustomerPageSteps.user_clicks_Select_button()[0m
    [32mAnd [0m[32mUser accepts Confirm Alert[0m              [90m# CustomerPageSteps.user_accepts_Confirm_Alert()[0m
    [32mThen [0m[32mUser should be direct back to Homepage[0m [90m# HomePageSteps.user_should_be_direct_back_to_Homepage()[0m
    [32mAnd [0m[32mCustomer info should display at top[0m     [90m# HomePageSteps.customer_info_should_display_at_top()[0m

  Scenario: 2. User adds one item to order      [90m# src/test/resources/features/SmartOrder.feature:27[0m
    [32mWhen [0m[32mUser clicks on Smart Order[0m             [90m# HomePageSteps.user_clicks_on_Smart_Order()[0m
    [32mThen [0m[32mSmart Order page should display[0m        [90m# SmartOrderSteps.smart_Order_page_should_display()[0m
    [31mWhen [0m[31mUser adds item to order[0m                [90m# SmartOrderSteps.when_user_adds_item_to_order()[0m
      [31morg.openqa.selenium.NoSuchElementException: Unable to locate element: (//button[contains(text(),'+')])[2]
      For documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html
      Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'
      System info: host: 'DESKTOP-HB18O22', ip: '192.168.1.225', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.2'
      Driver info: org.openqa.selenium.firefox.FirefoxDriver
      Capabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 66.0.2, javascriptEnabled: true, moz:accessibilityChecks: false, moz:geckodriverVersion: 0.24.0, moz:headless: false, moz:processID: 6608, moz:profile: C:\Users\Steve Emmet\AppDat..., moz:shutdownTimeout: 60000, moz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, platformVersion: 10.0, rotatable: false, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}
      Session ID: d4dff4be-006e-4f7f-9324-83c5533b1817
      *** Element info: {Using=xpath, value=(//button[contains(text(),'+')])[2]}
      	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
      	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
      	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
      	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
      	at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)
      	at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)
      	at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)
      	at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)
      	at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)
      	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)
      	at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)
      	at org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)
      	at org.openqa.selenium.By$ByXPath.findElement(By.java:353)
      	at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)
      	at org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:69)
      	at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)
      	at com.sun.proxy.$Proxy21.click(Unknown Source)
      	at com.triveniit.goya.qa.framework.pages.SmartOrderPage.addFirstItem(SmartOrderPage.java:58)
      	at com.triveniit.goya.qa.framework.steps.SmartOrderSteps.when_user_adds_item_to_order(SmartOrderSteps.java:31)
      	at âœ½.When User adds item to order(src/test/resources/features/SmartOrder.feature:30)
      [0m
    [36mThen [0m[36mItem count should display as 1[0m         [90m# SmartOrderSteps.item_count_should_display_as_1()[0m
    [36mAnd [0m[36mCase qty should display as 1[0m            [90m# SmartOrderSteps.case_qty_should_display_as_1()[0m
    [36mAnd [0m[36mItem should display in Smart Order cart[0m [90m# SmartOrderSteps.item_should_display_in_smart_order_cart()[0m

  Background:                                   [90m# src/test/resources/features/SmartOrder.feature:4[0m
    [32mGiven [0m[32mNot a validated user[0m                  [90m# LoginSteps.not_a_validated_user()[0m
    [32mWhen [0m[32mUser browse to website[0m                 [90m# LoginSteps.user_browse_to_website()[0m
    [32mThen [0m[32mLogin page should display[0m              [90m# LoginSteps.login_page_should_display()[0m
    [32mWhen [0m[32mUser enter username as "[0m[32m[1m013506[0m[32m"[0m        [90m# LoginSteps.user_enter_user_name_as(String)[0m
    [32mAnd [0m[32mUser enter password as "[0m[32m[1mPwd@013506[0m[32m"[0m     [90m# LoginSteps.user_enter_password_as(String)[0m
    [32mAnd [0m[32mUser click login button[0m                 [90m# LoginSteps.user_click_login_button()[0m
    [32mThen [0m[32mHome page should display[0m               [90m# LoginSteps.home_page_should_display()[0m
    [32mWhen [0m[32mUser clicks on Customers[0m               [90m# HomePageSteps.user_clicks_on_Customers()[0m
    [32mThen [0m[32mCustomers page should display[0m          [90m# CustomerPageSteps.Customer_page_should_display()[0m
    [32mWhen [0m[32mUser selects customer[0m                  [90m# CustomerPageSteps.user_selects_customer()[0m
    [32mAnd [0m[32mUser clicks Select button[0m               [90m# CustomerPageSteps.user_clicks_Select_button()[0m
    [32mAnd [0m[32mUser accepts Confirm Alert[0m              [90m# CustomerPageSteps.user_accepts_Confirm_Alert()[0m
    [32mThen [0m[32mUser should be direct back to Homepage[0m [90m# HomePageSteps.user_should_be_direct_back_to_Homepage()[0m
    [32mAnd [0m[32mCustomer info should display at top[0m     [90m# HomePageSteps.customer_info_should_display_at_top()[0m

  Scenario: 3. User adds multiple items to order [90m# src/test/resources/features/SmartOrder.feature:36[0m
    [32mWhen [0m[32mUser clicks on Smart Order[0m              [90m# HomePageSteps.user_clicks_on_Smart_Order()[0m
    [32mThen [0m[32mSmart Order page should display[0m         [90m# SmartOrderSteps.smart_Order_page_should_display()[0m
    [32mWhen [0m[32mUser adds 2 case of first item[0m          [90m# SmartOrderSteps.user_adds_2_case_of_first_item()[0m
    [32mAnd [0m[32mUser adds 1 case of second item[0m          [90m# SmartOrderSteps.user_adds_1_case_of_second_item()[0m
    [31mThen [0m[31mItem count should display as 2[0m          [90m# SmartOrderSteps.item_count_should_display_as_2()[0m
      [31mjava.lang.AssertionError: 
      Expected: a string containing "2"
           but: was "Item Count: 0"
      	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
      	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:8)
      	at com.triveniit.goya.qa.framework.pages.SmartOrderPage.verifyItemCount2(SmartOrderPage.java:77)
      	at com.triveniit.goya.qa.framework.steps.SmartOrderSteps.item_count_should_display_as_2(SmartOrderSteps.java:63)
      	at âœ½.Then Item count should display as 2(src/test/resources/features/SmartOrder.feature:41)
      [0m
    [36mAnd [0m[36mCase qty should display as 3[0m             [90m# SmartOrderSteps.case_qty_should_display_as_3()[0m
